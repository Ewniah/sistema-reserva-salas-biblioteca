{% extends 'salas/base.html' %}

{% block title %}Finalizar Reserva{% endblock %}

{% block content %}
<div class="card">
    <h2>⏰ Finalizar Reserva Anticipadamente</h2>
    <p>¿Está seguro de que desea finalizar esta reserva antes de tiempo?</p>
    
    <div class="card" style="background-color: #fff3e0; margin: 20px 0;">
        <h4>Detalles de la Reserva:</h4>
        <ul>
            <li><strong>Sala:</strong> {{ reserva.sala.nombre }}</li>
            <li><strong>Reservante:</strong> {{ reserva.nombre_reservante }}</li>
            <li><strong>RUT:</strong> {{ reserva.rut }}</li>
            <li><strong>Inicio:</strong> {{ reserva.fecha_hora_inicio|date:"d/m/Y H:i" }}</li>
            <li><strong>Fin programado:</strong> {{ reserva.fecha_hora_fin|date:"d/m/Y H:i" }}</li>
        </ul>
    </div>
    
    <div class="card" style="background-color: #d1ecf1;">
        <h4>ℹ️ Información:</h4>
        <p>Al finalizar esta reserva:</p>
        <ul>
            <li>La sala <strong>{{ reserva.sala.nombre }}</strong> quedará disponible inmediatamente.</li>
            <li>El usuario podrá hacer una nueva reserva.</li>
            <li>La reserva se marcará como finalizada en el sistema.</li>
        </ul>
    </div>
    
    <form method="post" style="margin-top: 20px;">
        {% csrf_token %}
        <button type="submit" class="btn btn-success">✓ Sí, Finalizar Reserva</button>
        <a href="{% url 'admin_reservas' %}" class="btn btn-secondary">Cancelar</a>
    </form>
</div>
{% endblock %}
