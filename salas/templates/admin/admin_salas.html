{% extends 'salas/base.html' %}

{% block title %}GestiÃ³n de Salas{% endblock %}

{% block content %}
<div class="card">
    <div class="flex-between">
        <h2>ğŸ¢ GestiÃ³n de Salas</h2>
        <div class="flex gap-2">
            <a href="{% url 'admin_crear_sala' %}" class="btn btn-success">â• Crear Nueva Sala</a>
            <a href="{% url 'panel_admin' %}" class="btn btn-secondary">â† Volver al Panel</a>
        </div>
    </div>
</div>

{% if salas %}
    <div class="card">
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Capacidad</th>
                        <th>DescripciÃ³n</th>
                        <th>Estado</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    {% for sala in salas %}
                        <tr>
                            <td><strong>{{ sala.nombre }}</strong></td>
                            <td>ğŸ‘¥ {{ sala.capacidad }} personas</td>
                            <td style="max-width: 300px;">
                                {% if sala.descripcion %}
                                    {{ sala.descripcion|truncatewords:10 }}
                                {% else %}
                                    <span style="color: var(--gray-light);">Sin descripciÃ³n</span>
                                {% endif %}
                            </td>
                            <td>
                                {% if sala.habilitada %}
                                    <span class="badge badge-success">âœ“ Habilitada</span>
                                {% else %}
                                    <span class="badge badge-danger">âœ• Deshabilitada</span>
                                {% endif %}
                            </td>
                            <td>
                                <div class="flex gap-1">
                                    <a href="{% url 'admin_editar_sala' sala.id %}" class="btn btn-sm" style="background: var(--primary);">
                                        âœï¸ Editar
                                    </a>
                                    <a href="{% url 'admin_eliminar_sala' sala.id %}" class="btn btn-danger btn-sm">
                                        ğŸ—‘ï¸ Eliminar
                                    </a>
                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% else %}
    <div class="card text-center">
        <p style="font-size: 3rem; margin-bottom: 1rem;">ğŸ“­</p>
        <h3>No hay salas registradas</h3>
        <p style="color: var(--gray); margin-bottom: 1.5rem;">Comience creando su primera sala.</p>
        <a href="{% url 'admin_crear_sala' %}" class="btn btn-success">â• Crear Primera Sala</a>
    </div>
{% endif %}
{% endblock %}
